{%extends "./base.html"%}
{% load static %}

{%block content%}
<div class="row">
	<div class="ibox-title">
		<h3><strong>Assignments</strong></h3>
	</div>
	<div class="ibox-content">
		<div class="table-responsive">
			<table class="table table-striped table-bordered " id="AssignmentTable" >
				<thead>
					<tr>
						<th>Assignment Name</th>
						<th>Number of questions</th>
						<th> </th>
					</tr>
				</thead>
			</table>
		</div>
	</div>
</div>
{%endblock%}

{%block jsPart%}
<!-- Mainly scripts -->
<script src="{% static 'ucs/js/jquery-2.1.1.js'%}"></script>
<script src="{% static 'ucs/js/bootstrap.min.js'%}"></script>
<script src="{% static 'ucs/js/plugins/metisMenu/jquery.metisMenu.js'%}"></script>
<script src="{% static 'ucs/js/plugins/slimscroll/jquery.slimscroll.min.js'%}"></script>

<!-- Custom and plugin javascript -->
<script src="{% static 'ucs/js/inspinia.js' %}"></script>
<script src="{% static 'ucs/js/plugins/pace/pace.min.js' %}"></script>

<!-- iCheck -->
<script src="{% static 'ucs/js/plugins/iCheck/icheck.min.js' %}"></script>
<script type="text/javascript">
	var datas = {{dataList | safe}};
	var tableRef = document.getElementById("AssignmentTable");
	datas.forEach(function(name, index) {
		var num = tableRef.rows.length;
		var newRow   = tableRef.insertRow(num);
		var newCell_1  = newRow.insertCell(0);
		var newText1  = document.createTextNode(name.assignment_name);
		newCell_1.appendChild(newText1);
		var newCell_2  = newRow.insertCell(1);
		var newText2  = document.createTextNode(name.number);
		newCell_2.appendChild(newText2);
		var newCell_3  = newRow.insertCell(2);
		newCell_3.innerHTML = '<button class="btn btn-primary btn-xs my-xs-btn" type="button" onClick="do_assignment(this)" >'
		+'<span class="glyphicon glyphicon-pencil"></span> Do </button>';
	});
</script>
<script type="text/javascript" >
	function do_assignment(element){
		var cell = element.parentNode.parentNode.rowIndex;
		var names = document.getElementById("AssignmentTable").rows[cell].cells[0].innerHTML
		window.location = '/do_assignment?assignment_name=' + names;
	}
</script>
{%endblock%}